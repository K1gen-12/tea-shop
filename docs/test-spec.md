# テスト仕様書：日本茶ECプラットフォーム「深茶（Fukamicha）」

## 1. 概要
本ドキュメントは、基本設計書に基づき、システムの正常性、堅牢性を検証するためのテストケースを定義する。

## 2. テスト範囲
*   フロントエンドの画面表示・遷移
*   商品検索・詳細表示機能
*   カート・購入フロー（ギフト設定含む）
*   レスポンシブデザイン（SP/PC）

## 3. テストケース構成
1.  **正常系 (Normal)**: ユーザーが想定通りの操作を行った場合の挙動
2.  **準正常系/エラー系 (Error)**: 入力ミスや異常な操作が行われた場合の挙動
3.  **境界値/エッジケース (Edge)**: 制限値ごとの挙動や特殊な条件下での挙動

---

## 4. テストケース詳細

### 4.1 共通ヘッダー・フッター (Global Navigation)

| ID | 区分 | 項目 | 条件 | 期待値 |
|:---|:---|:---|:---|:---|
| G-01 | Normal | ページ遷移 | グローバルナビのリンクをクリック | 対象ページに正しく遷移すること |
| G-02 | Normal | ホバー遷移 | ナビゲーションリンクにホバー | 色変化等のマイクロインタラクションが動作すること |
| G-03 | Edge | レスポンシブ | ウィンドウ幅をSPサイズ（<768px）に変更 | ハンバーガーメニュー等のSP用表示に切り替わること |

### 4.2 商品一覧・検索 (Products Page)

| ID | 区分 | 項目 | 条件 | 期待値 |
|:---|:---|:---|:---|:---|
| P-01 | Normal | カテゴリフィルタ | 「煎茶」タブをクリック | 煎茶カテゴリの商品のみが表示されること |
| P-02 | Normal | 味覚検索 | 味覚チャートで「甘み」重視を選択 | 甘みのスコアが高い順、または該当する商品が絞り込まれること |
| P-03 | Normal | 検索結果なし | 条件に合致する商品がないフィルタを選択 | 「該当する商品が見つかりませんでした」等のメッセージが表示されること |
| P-04 | Edge | 大量データ | 商品数が20件を超える場合 | ページネーションまたは「もっと見る」ボタンが機能すること |

### 4.3 商品詳細 (Product Detail Page)

| ID | 区分 | 項目 | 条件 | 期待値 |
|:---|:---|:---|:---|:---|
| D-01 | Normal | 情報表示 | 商品ページを開く | 商品名、価格、画像、レーダーチャートが正しく表示されること |
| D-02 | Normal | カート追加 | 数量1で「カートに入れる」をクリック | カートに商品が追加され、完了メッセージが表示されること |
| D-03 | Error | 数量異常 | 数量を0または負の値にしてカート追加 | エラーメッセージが表示され、カートに追加されないこと |
| D-04 | Edge | 在庫切れ | `stock_status` が `out_of_stock` の商品 | 「カートに入れる」ボタンが非活性、または「在庫切れ」表示になること |

### 4.4 カート・購入フロー (Cart & Checkout)

| ID | 区分 | 項目 | 条件 | 期待値 |
|:---|:---|:---|:---|:---|
| C-01 | Normal | ゲスト購入 | ログインせずにレジに進む | ゲスト購入用フォーム（またはログイン選択画面）が表示されること |
| C-02 | Normal | ギフト設定 | 「ギフト設定を利用する」をオンにする | 熨斗選択、名入れ入力欄が表示されること |
| C-03 | Error | 必須項目未入力 | 必須項目（住所等）を空で注文確定 | エラーメッセージが表示され、注文が完了しないこと |
| C-04 | Normal | 熨斗プレビュー | 熨斗の種類を選択し、名入れを入力 | プレビュー画面（またはイメージ）に反映されること |
| C-05 | Edge | 最大数量 | カート内商品数を上限（例: 99）にする | 上限エラーが表示される、またはそれ以上追加できないこと |

### 4.5 その他 (Accessibility / Performance)

| ID | 区分 | 項目 | 条件 | 期待値 |
|:---|:---|:---|:---|:---|
| Z-01 | Normal | キーボード操作 | Tabキーでのフォーカス移動 | すべてのインタラクティブ要素に順序よくアクセスできること |
| Z-02 | Normal | 代替テキスト | 画像要素を確認 | `alt` 属性に適切なテキストが設定されていること |

---

## 5. 承認
本テスト仕様書の承認をもって、実装フェーズへ移行します。
